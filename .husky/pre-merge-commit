# 获取当前合并操作的源分支名和目标分支名
source_branch=$(git rev-parse --abbrev-ref MERGE_HEAD)
target_branch=$(git rev-parse --abbrev-ref HEAD)

# 检查是否是从main分支合并到dev分支
if [[ "$source_branch" == "main" && "$target_branch" == "dev" ]]; then
    echo "不允许从主分支合并进开发分支！"
    exit 1
fi

# 如果不是上述情况，允许合并继续
exit 0